import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a JSON formatted travel plan for a 3-day budget trip to Las Vegas for a couple, along with hotel options and an itinerary:\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80/night\",\n       \"hotelImageUrl\": \"https://www.circuscircus.com/wp-content/uploads/2021/11/Circus-Circus_Exterior.jpg\",\n       \"geoCoordinates\": {\"latitude\": 36.1368, \"longitude\": -115.1646},\n      \"rating\": 3.5,\n      \"description\": \"An iconic Las Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment. Features Adventuredome indoor theme park.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90/night\",\n       \"hotelImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/02/excalibur-hotel-las-vegas-exterior-1600x900.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.0984, \"longitude\": -115.1734},\n      \"rating\": 4.0,\n      \"description\": \"A castle-themed hotel on the Las Vegas Strip offering budget-friendly accommodations and family-friendly entertainment.\"\n    },\n     {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75/night\",\n       \"hotelImageUrl\":\"https://www.oyohotels.com/blog/wp-content/uploads/2022/07/OYO-Hotel-Casino-Las-Vegas-1.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1036, \"longitude\": -115.1687},\n       \"rating\": 3.2,\n      \"description\": \"A budget-friendly hotel near the Las Vegas Strip, offering simple accommodations and access to a casino and pool.\"\n    }\n\n  ],\n   \"itinerary\": {\n    \"day1\": {\n      \"bestTimeToVisit\": \"Morning and Evening\",\n        \"places\": [\n         {\n            \"placeName\": \"The LINQ Promenade\",\n             \"placeDetails\": \"An open-air shopping, dining, and entertainment district featuring the High Roller observation wheel.\",\n             \"placeImageUrl\":\"https://assets.linqpromenade.com/images/responsive/site/gallery/the-linq-promenade-homepage-gallery.jpg\",\n             \"geoCoordinates\": {\"latitude\": 36.1167, \"longitude\": -115.1684},\n            \"ticketPricing\": \"Free to walk around, High Roller tickets vary\",\n              \"timeToTravel\": \"Walking distance from most hotels on the Strip\"\n          },\n            {\n            \"placeName\": \"Fountains of Bellagio\",\n             \"placeDetails\": \"A mesmerizing water show choreographed to music and lights, located in front of the Bellagio Hotel.\",\n             \"placeImageUrl\": \"https://res.cloudinary.com/culturemap-com/image/upload/ar_4:3,c_fill,g_face,w_1200/v1570916219/photos/298657_original.jpg\",\n              \"geoCoordinates\": {\"latitude\": 36.1125, \"longitude\": -115.1737},\n            \"ticketPricing\": \"Free\",\n              \"timeToTravel\": \"Short walk from the LINQ\"\n          },\n           {\n            \"placeName\": \"Free Shows on the Strip (street performers)\",\n            \"placeDetails\": \"Enjoy free entertainment by street performers, musicians, and artists throughout the Strip.\",\n             \"placeImageUrl\": \"https://images.squarespace-cdn.com/content/v1/5b88a6667c93276a35e45ff2/1661226235104-S0589TBN25XAP8W2X1A4/Las+Vegas+street+performers.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1162, \"longitude\": -115.1723},\n            \"ticketPricing\":\"Free (tips appreciated)\",\n            \"timeToTravel\":\"Walking distance\"\n          }\n        ]\n    },\n     \"day2\": {\n      \"bestTimeToVisit\": \"Morning and Evening\",\n        \"places\": [\n           {\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\":\"A pedestrian mall with a canopy of LED screens and light shows, offering live music and entertainment.\",\n            \"placeImageUrl\":\"https://media.cntraveler.com/photos/5c8373958778140650d89e05/master/w_3840%2Cc_limit/GettyImages-167856818.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1738, \"longitude\": -115.1406},\n             \"ticketPricing\": \"Free\",\n              \"timeToTravel\": \"Short taxi or ride share from The Strip\"\n\n          },\n           {\n            \"placeName\": \"Downtown Las Vegas Murals\",\n           \"placeDetails\": \"Explore the vibrant street art scene in downtown Las Vegas, with numerous colorful murals and art installations.\",\n           \"placeImageUrl\": \"https://www.artofwhere.com/blog/wp-content/uploads/2021/01/102998819_2980690518729769_6128051362884846893_n.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1715, \"longitude\": -115.1411},\n            \"ticketPricing\": \"Free\",\n              \"timeToTravel\": \"Walking distance from Fremont Street\"\n          },\n          {\n            \"placeName\": \"High Roller Observation Wheel\",\n             \"placeDetails\": \"Get stunning views of the Las Vegas Strip and surrounding area from the High Roller, located at the LINQ Promenade.\",\n             \"placeImageUrl\":\"https://www.caesars.com/content/dam/clv/Things%20to%20do/attractions/The%20High%20Roller/HR_Header_1600x700.jpg.transform/resize/1920/q90/image.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1168, \"longitude\": -115.1689},\n             \"ticketPricing\": \"From $25- $40 per person\",\n             \"timeToTravel\": \"Ride-share or taxi \"\n          }\n\n        ]\n    },\n     \"day3\": {\n       \"bestTimeToVisit\":\"Morning and Afternoon\",\n        \"places\": [\n            {\n              \"placeName\":\"Red Rock Canyon National Conservation Area\",\n            \"placeDetails\": \"A scenic desert landscape with hiking trails, rock formations, and beautiful views. Offers a chance to escape the city.\",\n            \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/Red_Rock_Canyon_Entrance_Road_Looking_Northeast.jpg?maxwidth=1300&maxheight=1300&autorotate=false\",\n            \"geoCoordinates\": {\"latitude\": 36.1463, \"longitude\": -115.4165},\n            \"ticketPricing\": \"$15 per vehicle, or $5 per person for cyclists/pedestrians\",\n              \"timeToTravel\": \"30-minute drive from the Strip. Consider renting a car or taking a rideshare\"\n          },\n            {\n           \"placeName\": \"Seven Magic Mountains\",\n            \"placeDetails\": \"An art installation of seven colorful stacked boulder totems in the desert, providing a unique photo opportunity\",\n            \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Seven_Magic_Mountains_%2840178195845%29.jpg/1280px-Seven_Magic_Mountains_%2840178195845%29.jpg\",\n            \"geoCoordinates\": {\"latitude\": 35.9743, \"longitude\": -115.2805},\n            \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"20-30 minutes drive from the Strip, Combine with Red Rock trip\"\n          },\n            {\n            \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n           \"placeDetails\":\"A stunning botanical display that changes with the seasons, located inside the Bellagio Hotel.\",\n           \"placeImageUrl\":\"https://www.bellagio.com/content/dam/MGM/bellagio/conservatory-and-botanical-garden/floral-displays/bellagio-conservatory-winter-display-03-01.jpg.transform/resize/1440/q70/image.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1132, \"longitude\": -115.1738},\n           \"ticketPricing\": \"Free\",\n             \"timeToTravel\":\" Walking distance from the strip\"\n          }\n\n        ]\n    }\n  }\n}\n```\n**Important Notes:**\n\n*   **Prices:** Hotel and attraction prices can fluctuate, so check current rates before booking. Hotel prices are estimates and could be higher on weekends or during events.\n*   **Transportation:**  For budget travel, utilize walking, free shuttles, and ride-sharing sparingly. If you plan to visit Red Rock Canyon, car rental is more convenient and cost-effective than a ride-sharing app.\n*   **Food:** To save money on food, consider purchasing snacks and drinks from grocery stores. Look for deals and happy hour specials at restaurants.\n*   **Reservations:**  Consider making reservations in advance, especially for shows or popular activities.\n*   **Flexibility:** Be flexible with your itinerary as time can fly by in Vegas!\n*   **Tips:**  Remember to budget for tips, especially for service staff.\n\nThis itinerary is a starting point and can be tailored to your specific interests and preferences. Have a fantastic time in Las Vegas!\n"},
        ],
      },
    ],
  });

